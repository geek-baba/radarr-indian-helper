<!-- Sidebar Overlay (mobile only) -->
<div id="sidebarOverlay" class="fixed inset-0 bg-black/50 z-30 lg:hidden hidden" onclick="document.getElementById('sidebar').classList.add('-translate-x-full'); this.classList.add('hidden');"></div>

<!-- Sidebar -->
<aside id="sidebar" class="fixed left-0 top-0 h-screen w-64 bg-[var(--surface)] dark:bg-brand-surfaceDark border-r border-[var(--border)] transition-transform z-40 lg:translate-x-0 -translate-x-full">
  <div class="flex items-center justify-between px-4 h-16 border-b border-[var(--border)]">
    <%- include('logo-desiarr') %>
    <button id="collapseSidebar" class="icon-btn lg:hidden" aria-label="Collapse sidebar" type="button">
      <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
      </svg>
    </button>
  </div>

  <nav class="mt-4 px-3 text-sm">
    <% 
      const items = [
        { href: '/', label: 'Dashboard', icon: 'layout-dashboard', page: 'dashboard' },
        { href: '/data/radarr', label: 'Radarr Data', icon: 'database', page: 'radarr' },
        { href: '/data/rss', label: 'RSS Data', icon: 'rss', page: 'rss' },
        { href: '/logs', label: 'Logs', icon: 'file-text', page: 'logs' },
        { href: '/settings', label: 'Settings', icon: 'settings', page: 'settings' },
      ];
      
      const currentPageValue = typeof currentPage !== 'undefined' ? currentPage : '';
    %>
    
    <% items.forEach(i => { %>
      <a href="<%= i.href %>" 
         class="flex items-center gap-3 px-3 py-2 rounded-lg mb-1 transition-colors
                <%= currentPageValue === i.page 
                    ? 'bg-brand-primary text-white' 
                    : 'hover:bg-gray-100 dark:hover:bg-white/10 text-gray-700 dark:text-gray-300' %>"
         aria-label="<%= i.label %>">
        <span class="w-5 h-5 inline-block flex-shrink-0">
          <i data-icon="<%= i.icon %>"></i>
        </span>
        <span><%= i.label %></span>
      </a>
    <% }) %>
  </nav>

  <div class="absolute bottom-0 w-full px-4 py-3 text-xs text-gray-500 dark:text-gray-400 border-t border-[var(--border)]">
    v1.0.0
  </div>
</aside>

